<div class="wireframe-container">
  <header class="p-3 d-flex align-items-center">
    <button class="btn-volver me-3" routerLink="/registro-solicitud">
      <span>&#8617;</span> Volver
    </button>
    <div class="logo-text">
      <h5 class="m-0 text-warning fw-bold">Esperanza Viva</h5>
      <small class="text-white d-block">centro de conciliacion</small>
    </div>
  </header>

  <div class="container mt-3">
    <div class="d-flex justify-content-between step-labels">
      <span class="completed-step"><i class="bi bi-check-circle-fill"></i> Datos de las partes</span>
      <span class="active-step"><i class="bi bi-file-earmark-text-fill"></i> Descripcion del Conflicto</span>
      <span class="inactive-step"><i class="bi bi-upload"></i> Documentos</span>
    </div>
    <div class="progress-bar-custom mt-2">
      <div class="progress-fill" style="width: 66%;"></div>
    </div>

    <div class="custom-card mt-5 p-4">
      <h6 class="text-warning mb-1">Descripción del Conflicto</h6>
      <p class="text-secondary small mb-4">Describe los hechos y tu pretensión de manera clara</p>

      <div class="row g-4">
        <div class="col-md-12 position-relative">
          <label class="label-yellow">Materia Conciliables</label>
          <div class="select-box-viva" (click)="menuMateriaAbierto = !menuMateriaAbierto">
            {{ subMateriaSeleccionada || materiaSeleccionada || 'EJ: Derecho de familia, Derecho civil, etc.' }}
            <i class="bi bi-chevron-down text-warning"></i>
          </div>

          <ul class="dropdown-viva animate__animated animate__fadeIn" *ngIf="menuMateriaAbierto">
            <li class="d-flex justify-content-between" (click)="seleccionarMateria('FAMILIA')">
              FAMILIA <i class="bi bi-chevron-right"></i>
            </li>
            <li class="d-flex justify-content-between" (click)="seleccionarMateria('CIVIL')">
              CIVIL <i class="bi bi-chevron-right"></i>
            </li>
            <li (click)="seleccionarMateria('CONTRATACIONES CON EL ESTADO')">
              CONTRATACIONES CON EL ESTADO
            </li>
          </ul>

          <ul class="dropdown-viva sub-menu animate__animated animate__fadeIn"
            *ngIf="menuSubMateriaAbierto && materiaSeleccionada === 'FAMILIA'">
            <li (click)="seleccionarSubMateria('Pensión de Alimentos')">Pensión de Alimentos</li>
            <li (click)="seleccionarSubMateria('Pensión de alimentos a favor de conviviente')">Pensión de alimentos a
              favor de conviviente</li>
            <li (click)="seleccionarSubMateria('Reducción o Pensión de Alimentos')">Reducción o Pensión de Alimentos
            </li>
            <li (click)="seleccionarSubMateria('Exoneración de Alimentos')">Exoneración de Alimentos</li>
            <li (click)="seleccionarSubMateria('Régimen de visitas')">Régimen de visitas</li>
            <li (click)="seleccionarSubMateria('Variación de régimen de visitas')">Variación de régimen de visitas</li>
            <li (click)="seleccionarSubMateria('tenencia')">tenencia</li>
            <li (click)="seleccionarSubMateria('Gastos de embarazo, tenencia y alimentos')">Gastos de embarazo, tenencia
              y alimentos</li>
            <li (click)="seleccionarSubMateria('Liquidación de sociedad de gananciales')">Liquidación de sociedad de
              gananciales</li>
            <li (click)="seleccionarSubMateria('Liquidación de sociedad de bienes durante la Unión de hecho')">
              Liquidación de sociedad de bienes durante la Unión de hecho</li>
            <li (click)="seleccionarSubMateria('Otros')">Otros</li>
          </ul>

          <ul class="dropdown-viva sub-menu animate__animated animate__fadeIn"
            *ngIf="menuSubMateriaAbierto && materiaSeleccionada === 'CIVIL'">
            <li (click)="seleccionarSubMateria('Resolución de contrato')">Resolución de contrato</li>
            <li (click)="seleccionarSubMateria('Incumplimiento de contrato')">Incumplimiento de contrato</li>
            <li (click)="seleccionarSubMateria('Otorgamiento de escritura')">Otorgamiento de escritura</li>
            <li (click)="seleccionarSubMateria('Rectificación de áreas y linderos')">Rectificación de áreas y linderos
            </li>
            <li (click)="seleccionarSubMateria('Ofrecimiento de pago')">Ofrecimiento de pago</li>
            <li (click)="seleccionarSubMateria('Desalojo')">Desalojo</li>
            <li (click)="seleccionarSubMateria('Reivindicación')">Reivindicación</li>
            <li (click)="seleccionarSubMateria('División y partición')">División y partición</li>
            <li (click)="seleccionarSubMateria('Indemnización')">Indemnización</li>
            <li (click)="seleccionarSubMateria('Indemnización por separación unilateral de unión de hecho')">
              Indemnización por separación unilateral de unión de hecho</li>
            <li (click)="seleccionarSubMateria('Retracto')">Retracto</li>
            <li (click)="seleccionarSubMateria('Petición de herencia')">Petición de herencia</li>
            <li (click)="seleccionarSubMateria('Interdicto de retener')">Interdicto de retener</li>
            <li (click)="seleccionarSubMateria('Interdicto de recobrar')">Interdicto de recobrar</li>
            <li (click)="seleccionarSubMateria('Obligación de dar suma de dinero')">Obligación de dar suma de dinero
            </li>
            <li (click)="seleccionarSubMateria('Obligación de dar')">Obligación de dar</li>
            <li (click)="seleccionarSubMateria('Obligación de hacer')">Obligación de hacer</li>
            <li (click)="seleccionarSubMateria('Obligación de no hacer')">Obligación de no hacer</li>
            <li (click)="seleccionarSubMateria('Sentencia con condena de futuro')">Sentencia con condena de futuro</li>
            <li (click)="seleccionarSubMateria('Pago de mejoras')">Pago de mejoras</li>
            <li (click)="seleccionarSubMateria('Otras pretensiones')">Otras pretensiones</li>
          </ul>

          <ul class="dropdown-viva sub-menu animate__animated animate__fadeIn"
            *ngIf="menuSubMateriaAbierto && materiaSeleccionada === 'CONTRATACIONES CON EL ESTADO'">
            <li (click)="seleccionarSubMateria('Resolución de contrato')">Resolución de contrato</li>
            <li (click)="seleccionarSubMateria('Ampliación del plazo contractual')">Ampliación del plazo contractual
            </li>
            <li (click)="seleccionarSubMateria('Recepción y conformidad')">Recepción y conformidad</li>
            <li (click)="seleccionarSubMateria('Valorizaciones o Metrados')">Valorizaciones o Metrados</li>
            <li (click)="seleccionarSubMateria('Liquidación de contrato')">Liquidación de contrato</li>
            <li (click)="seleccionarSubMateria('Obligaciones posteriores al pago')">Obligaciones posteriores al pago
            </li>
            <li (click)="seleccionarSubMateria('Pagos')">Pagos</li>
            <li (click)="seleccionarSubMateria('Resarcimiento de daños y perjuicios')">Resarcimiento de daños y
              perjuicios</li>
            <li (click)="seleccionarSubMateria('Vicios ocultos')">Vicios ocultos</li>
            <li (click)="seleccionarSubMateria('Otras pretensiones')">Otras pretensiones</li>
          </ul>
        </div>

        <div class="col-md-12">
          <label class="label-yellow">Hechos que sustentan la solicitud *</label>
          <textarea class="input-dark" rows="4" [(ngModel)]="hechosTexto" maxlength="200"
            placeholder="Describe de forma cronológica y detalla los hechos que originaron el conflicto..."></textarea>
          <div class="d-flex justify-content-between">
            <small class="text-secondary-custom">Mínimo 50 caracteres</small>
            <small [class.text-danger]="hechosTexto.length < 50" [class.text-success]="hechosTexto.length >= 50">
              {{ hechosTexto.length }} / 200 (Máximo)
            </small>
          </div>
        </div>

        <div class="col-md-12 animate__animated animate__fadeIn" *ngIf="mostrarCampoAlimentos">
          <label class="label-yellow">Otras personas con derecho alimentario</label>
          <textarea class="input-dark" rows="3" [(ngModel)]="otrasPersonasAlimentario" maxlength="200"
            placeholder="Personas que merecen el derecho alimentario"></textarea>
          <div class="d-flex justify-content-between">
            <small class="text-secondary-custom">Mínimo 50 caracteres</small>
            <small [class.text-danger]="(otrasPersonasAlimentario || '').length < 50"
              [class.text-success]="(otrasPersonasAlimentario || '').length >= 50">
              {{ (otrasPersonasAlimentario || '').length }} / 200 (Máximo)
            </small>
          </div>
        </div>

        <div class="col-md-12">
          <label class="label-yellow">Pretensión *</label>
          <textarea class="input-dark" rows="4" [(ngModel)]="pretensionTexto" maxlength="150"
            placeholder="Indica que esperas obtener de la conciliación..."></textarea>
          <div class="d-flex justify-content-between">
            <small class="text-secondary-custom">Mínimo 20 caracteres</small>
            <small [class.text-danger]="pretensionTexto.length < 20"
              [class.text-success]="pretensionTexto.length >= 20">
              {{ pretensionTexto.length }} / 150 (Máximo)
            </small>
          </div>
        </div>
      </div>
    </div>

    <div class="d-flex justify-content-between mt-5 pb-5">
      <button class="btn-action" routerLink="/nueva-solicitud">Anterior</button>
      <button class="btn-action yellow-border" (click)="irADocumentos()">Siguiente &#10132;</button>
    </div>
  </div>
</div>