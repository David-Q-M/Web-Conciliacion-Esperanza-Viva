<div class="admin-container">
  <aside class="sidebar-viva">
    <div class="logo-section">
      <h5 class="m-0 fw-bold text-dark">ESPERANZA VIVA</h5>
      <small class="text-dark fw-bold">ADMINISTRACI√ìN</small>
    </div>
    <nav class="sidebar-nav">
      <a class="nav-link-viva" routerLink="/admin-dashboard" routerLinkActive="active">
        <i class="bi bi-speedometer2 me-2"></i> Inicio
      </a>
      <a class="nav-link-viva" routerLink="/gestion-usuarios" routerLinkActive="active">
        <i class="bi bi-people-fill me-2"></i> Gesti√≥n de usuarios
      </a>
      <a class="nav-link-viva active" routerLink="/configuracion" routerLinkActive="active">
        <i class="bi bi-sliders me-2"></i> Configuraci√≥n
      </a>
      <a class="nav-link-viva" routerLink="/auditoria" routerLinkActive="active">
        <i class="bi bi-shield-lock-fill me-2"></i> Auditor√≠a
      </a>
      <a class="nav-link-viva" routerLink="/reportes" routerLinkActive="active">
        <i class="bi bi-bar-chart-fill me-2"></i> Reportes
      </a>
    </nav>
    <div class="sidebar-footer px-3">
      <button class="btn w-100 fw-bold" style="background: #000; color: #fff;" (click)="cerrarSesion()">
        <i class="bi bi-box-arrow-left"></i> Cerrar Sesi√≥n
      </button>
    </div>
  </aside>

  <main class="main-content-viva">
    <header class="d-flex justify-content-between align-items-center mb-5">
      <div class="header-titles">
        <h2 class="text-warning fw-bold m-0">Ajustes del Sistema</h2>
        <p class="text-secondary small m-0">Personalizaci√≥n de encabezados y par√°metros globales</p>
      </div>
      <div class="admin-badge text-end">
        <div class="text-white fw-bold">{{ usuarioActivo }}</div>
        <small class="text-success">‚óè En l√≠nea</small>
      </div>
    </header>

    <div class="row g-4">
      <!-- Columna Izquierda: Datos Institucionales -->
      <div class="col-lg-6">
        <div class="glass-card mb-4">
          <h6 class="text-warning-neon mb-4">üèõÔ∏è Datos Institucionales (Encabezados PDF)</h6>

          <div class="mb-3">
            <label class="text-secondary small">Direcci√≥n del Centro</label>
            <input type="text" [(ngModel)]="headers.direccion" class="form-control bg-dark text-white border-secondary">
          </div>
          <div class="mb-3">
            <label class="text-secondary small">Tel√©fono / Celular</label>
            <input type="text" [(ngModel)]="headers.telefono" class="form-control bg-dark text-white border-secondary">
          </div>
          <div class="mb-3">
            <label class="text-secondary small">Nro. Resoluci√≥n Directoral</label>
            <input type="text" [(ngModel)]="headers.resolucion"
              class="form-control bg-dark text-white border-secondary">
          </div>
          <div class="mb-4">
            <label class="text-secondary small">Pie de P√°gina</label>
            <input type="text" [(ngModel)]="headers.piePagina" class="form-control bg-dark text-white border-secondary">
          </div>

          <button class="btn btn-warning w-100 fw-bold" (click)="guardarHeaders()">
            <i class="bi bi-save-fill me-2"></i> Guardar Cambios
          </button>
        </div>

        <div class="glass-card">
          <h6 class="text-warning-neon mb-4">‚úíÔ∏è Firma Digital del Director</h6>
          <div
            class="d-flex align-items-center justify-content-center border border-secondary border-dashed rounded p-4 mb-3"
            style="height: 150px; background: rgba(0,0,0,0.2);">
            <div class="text-center text-secondary">
              <i class="bi bi-cloud-upload fs-1"></i>
              <p class="m-0 small">Arrastra una imagen o haz clic</p>
            </div>
          </div>
          <button class="btn btn-outline-info w-100" (click)="subirFirma()">Subir Nueva Firma</button>
        </div>
      </div>

      <!-- Columna Derecha: Par√°metros del Sistema -->
      <div class="col-lg-6">
        <div class="glass-card h-100">
          <h6 class="text-warning-neon mb-4">üõ†Ô∏è Par√°metros Globales</h6>

          <ul class="nav nav-tabs border-bottom-0 mb-3" id="configTabs" role="tablist">
            <li class="nav-item">
              <button class="nav-link active text-white bg-dark border-secondary" id="materias-tab" data-bs-toggle="tab"
                data-bs-target="#materias" type="button">Materias</button>
            </li>
            <li class="nav-item">
              <button class="nav-link text-white bg-dark border-secondary ms-2" id="estados-tab" data-bs-toggle="tab"
                data-bs-target="#estados" type="button">Estados</button>
            </li>
          </ul>

          <div class="tab-content" id="configTabsContent">
            <!-- Materias Tab -->
            <div class="tab-pane fade show active" id="materias">
              <div class="input-group mb-3">
                <input type="text" [(ngModel)]="nuevaMateria" class="form-control bg-dark text-white border-secondary"
                  placeholder="Nueva Materia (ej. DESALOJO)">
                <button class="btn btn-success" (click)="agregarItem('MATERIA', nuevaMateria)">
                  <i class="bi bi-plus-lg"></i>
                </button>
              </div>
              <div class="list-group list-group-flush scroll-carga" style="max-height: 400px; overflow-y: auto;">
                <div *ngFor="let m of materias"
                  class="list-group-item bg-transparent text-white border-secondary d-flex justify-content-between">
                  <span>{{ m.valor }}</span>
                  <i class="bi bi-check-circle-fill text-success"></i>
                </div>
              </div>
            </div>

            <!-- Estados Tab -->
            <div class="tab-pane fade" id="estados">
              <div class="input-group mb-3">
                <input type="text" [(ngModel)]="nuevoEstado" class="form-control bg-dark text-white border-secondary"
                  placeholder="Nuevo Estado">
                <button class="btn btn-success" (click)="agregarItem('ESTADO', nuevoEstado)">
                  <i class="bi bi-plus-lg"></i>
                </button>
              </div>
              <div class="list-group list-group-flush scroll-carga" style="max-height: 400px; overflow-y: auto;">
                <div *ngFor="let e of estados"
                  class="list-group-item bg-transparent text-white border-secondary d-flex justify-content-between">
                  <span>{{ e.valor }}</span>
                  <span class="badge bg-secondary">System</span>
                </div>
              </div>
            </div>
          </div>

        </div>
      </div>
    </div>
  </main>
</div>
